#question<-3
#discomment to modify view
#qx<-qdescription
#qx<-kontext
#qx<-question
lquest<-length(pos3)
#formel adress line: 1+14 each
quest_cpt<-64*14+1
questionx<-c(2,4,7) #itemdescription,kontext,question
question_adress_last<-(quest_cpt/64*itemnr)
question_adress_0<-question_adress_last-14
questpos<-(question_adressx<-question_adress_0+questionx[qx])
print(pos3[questpos])
return(pos3[questpos])
}
replace_content(items,seta,setq,4,1,1)
print(adress_answer(seta,4,1:6))
replace_content(items,seta,setq,4,6,1)
print(adress_answer(seta,4,1:6))
refresh_base()
print(adress_answer(seta,4,1:6))
seta<-pos4
setq<-pos3
print(adress_answer(seta,4,1:6))
refresh_base()
seta<-pos4
setq<-pos3
#check replacement
write.xml(sroot,qscheme_output.xml)
#check replacement
write_xml(sroot,qscheme_output.xml)
#check replacement
qscheme_output<-c()
write_xml(sroot,qscheme_output)
write_xml(sroot,"qscheme_output.xml")
read_xml("qscheme_output.xml")
refresh_data <- function(ret_file){
#old scheme<-read_xml("https://github.com/esteeschwarz/12431_hux2021-appendix/raw/12057_VS/hux2022/proverbs/package_hux2022_fragen_templateB_2022-02-04.xml")
items<-read.csv("https://github.com/esteeschwarz/12431_hux2021-appendix/raw/12057_VS/hux2022/proverbs/items/GR1/context2022_items_GR01.csv",skip=1)
#scheme<-read_xml("https://github.com/esteeschwarz/12431_hux2021-appendix/raw/12057_VS/hux2022/proverbs/package_hux2022_fragen_templateB_mod_12061.2022-02-04.xml")
#scheme<-read_xml("https://github.com/esteeschwarz/essais/raw/main/docs/hux2022/package_hux2022_fragen_templateB_mod_12061.2022-02-04.xml")
scheme<-read_xml(ret_file)
sroot<-scheme
}
xmlorigin<-("https://github.com/esteeschwarz/essais/raw/main/docs/hux2022/package_hux2022_fragen_templateB_mod_12061.2022-02-04.xml")
xmlmod<-("qscheme_output.xml")
refresh_data(xmlmod)
print(adress_answer(seta,4,1:6))
xmlmod<-("qscheme_output.xml")
refresh_data(xmlmod)
source("~/boxHKW/21S/essais/gith/12057/essais/12057.qscheme_essai.R", echo=TRUE)
source("~/boxHKW/21S/essais/gith/12057/essais/12057.qscheme_essai.R", echo=TRUE)
#call data
refresh_base_a(scheme)
source("~/boxHKW/21S/essais/gith/12057/essais/12057.qscheme_essai.R", echo=TRUE)
source("~/boxHKW/21S/essais/gith/12057/essais/12057.qscheme_essai.R", echo=TRUE)
source("~/boxHKW/21S/essais/gith/12057/essais/12057.qscheme_essai.R", echo=TRUE)
refresh_data(xmlorigin)
source("~/boxHKW/21S/essais/gith/12057/essais/12057.qscheme_essai.R", echo=TRUE)
source("~/boxHKW/21S/essais/gith/12057/essais/12057.qscheme_essai.R", echo=TRUE)
refresh_data(xmlorigin)
schemeset<-refresh_data(xmlorigin)
seta<-refresh_base_a()
seta<-refresh_base_a(schemeset)
setq<-refresh_base_q(schemeset)
print(adress_answer(seta,4,1:6))
refresh_scheme <- function(ret_file){
#old scheme<-read_xml("https://github.com/esteeschwarz/12431_hux2021-appendix/raw/12057_VS/hux2022/proverbs/package_hux2022_fragen_templateB_2022-02-04.xml")
#items<-read.csv("https://github.com/esteeschwarz/12431_hux2021-appendix/raw/12057_VS/hux2022/proverbs/items/GR1/context2022_items_GR01.csv",skip=1)
#scheme<-read_xml("https://github.com/esteeschwarz/12431_hux2021-appendix/raw/12057_VS/hux2022/proverbs/package_hux2022_fragen_templateB_mod_12061.2022-02-04.xml")
#scheme<-read_xml("https://github.com/esteeschwarz/essais/raw/main/docs/hux2022/package_hux2022_fragen_templateB_mod_12061.2022-02-04.xml")
scheme<-read_xml(ret_file)
sroot<-scheme
}
refresh_data <- function(ret_file){
items<-read.csv("https://github.com/esteeschwarz/12431_hux2021-appendix/raw/12057_VS/hux2022/proverbs/items/GR1/context2022_items_GR01.csv",skip=1)
}
datenset<-("https://github.com/esteeschwarz/12431_hux2021-appendix/raw/12057_VS/hux2022/proverbs/items/GR1/context2022_items_GR01.csv")
items<-refresh_data(datenset)
get_item(items,4,6)
get_question(items,4,3)
print(adress_answer(seta,4,1:6))
print(adress_question(setq,4,3))
#####call replacement
replace_content(items,seta,setq,4,6,3)
#works 12062.14.17
##################
#now replace content
#itemdescription
#item_sample_content<-c()
#print(newitem)
#item_pos<-
#print(itemreplace(itemnr,item_pos))
replace_content<-function(dataset,seta,setq,item,pos_a,pos_q){
val_text<-"text" #tag, item
val_lead<-"lead" #tag, fragetext
val_descr<-"description" #tag, itemnumber
val_context<-"title" #tag, kontext
#pos<-"test antwort replace" #text within tags
#children 3, replace works but content shit
#print(pos4)
set_answers<-seta
set_question<-setq
dataset<-dataset
#get_question(dataset,item,pos_q)
tst_ra<-get_item(dataset,item,pos_a)
tst_rq<-get_question(dataset,item,pos_q)
print(tst_aa<-adress_answer(set_answers,item,pos_a))
#works
tst_aq<-adress_question(set_question,item,pos_q)
#works
#muster: xml_replace(adress_[answer|question](options),val,get_[item|question](options))
#testreplace xml_replace(tst2,val ,tst_r )
####
xml_replace(tst_aq,val_lead ,tst_rq )
####
#works
}
#####call replacement
replace_content(items,seta,setq,4,6,3)
#####call replacement
scheme_mod<-replace_content(items,seta,setq,4,6,3)
setwd("~/boxHKW/21S/essais/gith/12057/essais/docs/hux2022")
write_xml(schemeset,"qscheme_output.xml")
source("~/boxHKW/21S/essais/gith/12057/essais/12057.qscheme_essai.R", echo=TRUE)
#schemeset<-refresh_data(xmlorigin)
seta<-refresh_base_a(schemeset)
schemeset<-refresh_data(xmlorigin)
seta<-refresh_base_a(schemeset)
View(refresh_base_a)
sroot<-schemeset
#pos1<-xml_children(sroot)
#pos2<-xml_children(xml_children(sroot))
setq<-pos3<-xml_children(xml_children(xml_children(sroot)))
#pos1<-xml_children(sroot)
#pos2<-xml_children(xml_children(sroot))
setq<-xml_children(xml_children(xml_children(sroot)))
View(refresh_scheme)
schemeset<-refresh_scheme(xmlmod)
seta<-refresh_base_a(schemeset)
schemeset<-refresh_scheme(xmlmod)
#schemeset<-refresh_data(xmlorigin)
seta<-refresh_base_a(schemeset)
setq<-refresh_base_q(schemeset)
print(adress_answer(seta,4,1:6))
print(adress_question(setq,4,3))
print(adress_question(setq,4,3))
print(adress_answer(seta,4,1:6))
print(adress_question(setq,4,3))
#####call replacement
replace_content(items,seta,setq,5,6,3)
get_item(items,5,6)
items<-refresh_data(datenset)
get_item(items,5,6)
get_question(items,5,3)
print(adress_answer(seta,5,1:6))
print(adress_question(setq,4,1:3))
print(adress_question(setq,5,1:3))
#####call replacement
replace_content(items,seta,setq,5,6,3)
#####call replacement
replace_content(items,seta,setq,5,6,3)
#works 12062.14.17
##################
#now replace content
#itemdescription
#item_sample_content<-c()
#print(newitem)
#item_pos<-
#print(itemreplace(itemnr,item_pos))
replace_content<-function(dataset,seta,setq,item,pos_a,pos_q){
val_text<-"text" #tag, item
val_lead<-"lead" #tag, fragetext
val_descr<-"description" #tag, itemnumber
val_context<-"title" #tag, kontext
val_fail<-"tagfail"
ifelse(posq==1,tag<-val_descr,ifelse(pos_q==2,tag<-val_lead,ifelse(pos_q==3,tag<-val_context,ifelse(pos_q!=1:3,tag<-val_fail))))
#pos<-"test antwort replace" #text within tags
#children 3, replace works but content shit
#print(pos4)
set_answers<-seta
set_question<-setq
dataset<-dataset
#get_question(dataset,item,pos_q)
tst_ra<-get_item(dataset,item,pos_a)
tst_rq<-get_question(dataset,item,pos_q)
print(tst_aa<-adress_answer(set_answers,item,pos_a))
#works
tst_aq<-adress_question(set_question,item,pos_q)
#works
#muster: xml_replace(adress_[answer|question](options),val,get_[item|question](options))
#testreplace xml_replace(tst2,val ,tst_r )
####
xml_replace(tst_aq,tag ,tst_rq )
####
#works
}
#####call replacement
replace_content(items,seta,setq,5,6,3)
#works 12062.14.17
##################
#now replace content
#itemdescription
#item_sample_content<-c()
#print(newitem)
#item_pos<-
#print(itemreplace(itemnr,item_pos))
replace_content<-function(dataset,seta,setq,item,pos_a,pos_q){
val_text<-"text" #tag, item
val_lead<-"lead" #tag, fragetext
val_descr<-"description" #tag, itemnumber
val_context<-"title" #tag, kontext
val_fail<-"tagfail"
ifelse(pos_q==1,tag<-val_descr,ifelse(pos_q==2,tag<-val_lead,ifelse(pos_q==3,tag<-val_context,ifelse(pos_q!=1:3,tag<-val_fail))))
#pos<-"test antwort replace" #text within tags
#children 3, replace works but content shit
#print(pos4)
set_answers<-seta
set_question<-setq
dataset<-dataset
#get_question(dataset,item,pos_q)
tst_ra<-get_item(dataset,item,pos_a)
tst_rq<-get_question(dataset,item,pos_q)
print(tst_aa<-adress_answer(set_answers,item,pos_a))
#works
tst_aq<-adress_question(set_question,item,pos_q)
#works
#muster: xml_replace(adress_[answer|question](options),val,get_[item|question](options))
#testreplace xml_replace(tst2,val ,tst_r )
####
xml_replace(tst_aq,tag ,tst_rq )
####
#works
}
#####call replacement
replace_content(items,seta,setq,5,6,3)
print(adress_question(setq,5,1:3))
refresh_base_a <- function(schemeset){
sroot<-schemeset
#pos1<-xml_children(sroot)
#pos2<-xml_children(xml_children(sroot))
setq<-xml_children(xml_children(xml_children(sroot)))
seta<-xml_children(xml_children(xml_children(xml_children(sroot))))
#print(pos5<-xml_children(xml_children(xml_children(xml_children(xml_children(sroot))))))
#set_answers<-pos4
#set_question<-pos3
#print(set_question)
#print(set_answers)
set_or<-c(seta,setq)
return(set_or)
}
refresh_base_a <- function(schemeset){
sroot<-schemeset
#pos1<-xml_children(sroot)
#pos2<-xml_children(xml_children(sroot))
setq<-xml_children(xml_children(xml_children(sroot)))
seta<-xml_children(xml_children(xml_children(xml_children(sroot))))
#print(pos5<-xml_children(xml_children(xml_children(xml_children(xml_children(sroot))))))
#set_answers<-pos4
#set_question<-pos3
#print(set_question)
#print(set_answers)
set_or<-c(seta,setq)
return(set_or)
}
refresh_base_o <- function(schemeset){
sroot<-schemeset
#pos1<-xml_children(sroot)
#pos2<-xml_children(xml_children(sroot))
setq<-xml_children(xml_children(xml_children(sroot)))
seta<-xml_children(xml_children(xml_children(xml_children(sroot))))
#print(pos5<-xml_children(xml_children(xml_children(xml_children(xml_children(sroot))))))
#set_answers<-pos4
#set_question<-pos3
#print(set_question)
#print(set_answers)
set_or<-c(seta,setq)
return(set_or)
}
#works 12062.14.17
##################
#now replace content
#itemdescription
#item_sample_content<-c()
#print(newitem)
#item_pos<-
#print(itemreplace(itemnr,item_pos))
replace_content<-function(dataset,set_o[1],set_o[2],item,pos_a,pos_q){
val_text<-"text" #tag, item
val_lead<-"lead" #tag, fragetext
val_descr<-"description" #tag, itemnumber
val_context<-"title" #tag, kontext
val_fail<-"tagfail"
ifelse(pos_q==1,tag<-val_descr,ifelse(pos_q==2,tag<-val_lead,ifelse(pos_q==3,tag<-val_context,ifelse(pos_q!=1:3,tag<-val_fail))))
#pos<-"test antwort replace" #text within tags
#children 3, replace works but content shit
#print(pos4)
set_answers<-seta
set_question<-setq
dataset<-dataset
#get_question(dataset,item,pos_q)
tst_ra<-get_item(dataset,item,pos_a)
tst_rq<-get_question(dataset,item,pos_q)
print(tst_aa<-adress_answer(set_answers,item,pos_a))
#works
tst_aq<-adress_question(set_question,item,pos_q)
#works
#muster: xml_replace(adress_[answer|question](options),val,get_[item|question](options))
#testreplace xml_replace(tst2,val ,tst_r )
####
xml_replace(tst_aq,tag ,tst_rq )
####
#works
}
#schemeset<-refresh_data(xmlorigin)
seta<-refresh_base(schemeset)[1]
#schemeset<-refresh_data(xmlorigin)
seta<-refresh_base_o(schemeset)[1]
View(seta)
setq<-refresh_base_o(schemeset)[2]
#schemeset<-refresh_data(xmlorigin)
seta<-refresh_base_o(schemeset)[1]
print(seta)
refresh_base_o <- function(schemeset){
sroot<-schemeset
#pos1<-xml_children(sroot)
#pos2<-xml_children(xml_children(sroot))
setq<-xml_children(xml_children(xml_children(sroot)))
seta<-xml_children(xml_children(xml_children(xml_children(sroot))))
#print(pos5<-xml_children(xml_children(xml_children(xml_children(xml_children(sroot))))))
#set_answers<-pos4
#set_question<-pos3
#print(set_question)
#print(set_answers)
set_or<-c(seta,setq)
return(set_or)
return(seta)
return(setq)
}
#schemeset<-refresh_data(xmlorigin)
refresh_base_o(schemeset)
#schemeset<-refresh_data(xmlorigin)
seta<-refresh_base_o(schemeset)
refresh_base_o(schemeset)
setq<-refresh_base_o(schemeset)
#refresh_data(xmlmod)
refresh_base_q(schemeset)
#refresh_data(xmlmod)
setq<-refresh_base_q(schemeset)
refresh_base_a <- function(schemeset){
sroot<-schemeset
#pos1<-xml_children(sroot)
#pos2<-xml_children(xml_children(sroot))
setq<-xml_children(xml_children(xml_children(sroot)))
seta<-xml_children(xml_children(xml_children(xml_children(sroot))))
#print(pos5<-xml_children(xml_children(xml_children(xml_children(xml_children(sroot))))))
#set_answers<-pos4
#set_question<-pos3
#print(set_question)
#print(set_answers)
return(seta)
}
#schemeset<-refresh_data(xmlorigin)
seta<-refresh_base_a(schemeset)
setq<-refresh_base_q(schemeset)
print(adress_answer(seta,5,1:6))
print(adress_question(setq,5,1:3))
print(adress_answer(seta,6,1:6))
print(adress_question(setq,6,1:3))
get_item(items,6,6)
get_question(items,6,3)
#####call replacement
replace_content(items,seta,setq,6,6,3)
print(adress_answer(seta,6,1:6))
print(adress_question(setq,6,1:3))
#schemeset<-refresh_data(xmlorigin)
seta<-refresh_base_a(schemeset)
setq<-refresh_base_q(schemeset)
print(adress_answer(seta,6,1:6))
print(adress_question(setq,6,1:3))
print(adress_answer(seta,6,1:6))
print(get_item(items,6,6))
print(get_question(items,6,3))
print(adress_answer(seta,6,1:6))
print(adress_question(setq,6,1:3))
#schemeset<-refresh_data(xmlorigin)
seta<-refresh_base_a(schemeset)
print(adress_answer(seta,6,1:6))
#works 12062.14.17
##################
#now replace content
#itemdescription
#item_sample_content<-c()
#print(newitem)
#item_pos<-
#print(itemreplace(itemnr,item_pos))
replace_content<-function(dataset,seta,setq,item,pos_a,pos_q){
val_text<-"text" #tag, item
val_lead<-"lead" #tag, fragetext
val_descr<-"description" #tag, itemnumber
val_context<-"title" #tag, kontext
val_fail<-"tagfail"
ifelse(pos_q==1,tag<-val_descr,ifelse(pos_q==2,tag<-val_lead,ifelse(pos_q==3,tag<-val_context,ifelse(pos_q!=1:3,tag<-val_fail))))
#pos<-"test antwort replace" #text within tags
#children 3, replace works but content shit
#print(pos4)
set_answers<-seta
set_question<-setq
dataset<-dataset
#get_question(dataset,item,pos_q)
print(tst_ra<-get_item(dataset,item,pos_a))
print(tst_rq<-get_question(dataset,item,pos_q))
print(tst_aa<-adress_answer(set_answers,item,pos_a))
#works
print(tst_aq<-adress_question(set_question,item,pos_q))
#works
#muster: xml_replace(adress_[answer|question](options),val,get_[item|question](options))
#testreplace xml_replace(tst2,val ,tst_r )
####
xml_replace(tst_aa,val_text,tst_aa)
xml_replace(tst_aq,tag ,tst_rq )
####
#works
}
#####call replacement
replace_content(items,seta,setq,6,6,3)
#works 12062.14.17
##################
#now replace content
#itemdescription
#item_sample_content<-c()
#print(newitem)
#item_pos<-
#print(itemreplace(itemnr,item_pos))
replace_content<-function(dataset,seta,setq,item,pos_a,pos_q){
val_text<-"text" #tag, item
val_lead<-"lead" #tag, fragetext
val_descr<-"description" #tag, itemnumber
val_context<-"title" #tag, kontext
val_fail<-"tagfail"
ifelse(pos_q==1,tag<-val_descr,ifelse(pos_q==2,tag<-val_lead,ifelse(pos_q==3,tag<-val_context,ifelse(pos_q!=1:3,tag<-val_fail))))
#pos<-"test antwort replace" #text within tags
#children 3, replace works but content shit
#print(pos4)
set_answers<-seta
set_question<-setq
dataset<-dataset
#get_question(dataset,item,pos_q)
print(tst_aq<-adress_question(set_question,item,pos_q))
print(tst_aa<-adress_answer(set_answers,item,pos_a))
print(tst_rq<-get_question(dataset,item,pos_q))
print(tst_ra<-get_item(dataset,item,pos_a))
#works
#works
#muster: xml_replace(adress_[answer|question](options),val,get_[item|question](options))
#testreplace xml_replace(tst2,val ,tst_r )
####
xml_replace(tst_aq,tag ,tst_rq )
xml_replace(tst_aa,val_text,tst_aa)
####
#works
}
#####call replacement
replace_content(items,seta,setq,6,6,3)
#schemeset<-refresh_data(xmlorigin)
seta<-refresh_base_a(schemeset)
setq<-refresh_base_q(schemeset)
print(adress_question(setq,6,1:3))
print(adress_answer(seta,6,1:6))
#works 12062.14.17
##################
#now replace content
#itemdescription
#item_sample_content<-c()
#print(newitem)
#item_pos<-
#print(itemreplace(itemnr,item_pos))
replace_content<-function(dataset,seta,setq,item,pos_a,pos_q){
val_text<-"text" #tag, item
val_lead<-"lead" #tag, fragetext
val_descr<-"description" #tag, itemnumber
val_context<-"title" #tag, kontext
val_fail<-"tagfail"
ifelse(pos_q==1,tag<-val_descr,ifelse(pos_q==2,tag<-val_lead,ifelse(pos_q==3,tag<-val_context,ifelse(pos_q!=1:3,tag<-val_fail))))
#pos<-"test antwort replace" #text within tags
#children 3, replace works but content shit
#print(pos4)
set_answers<-seta
set_question<-setq
dataset<-dataset
#get_question(dataset,item,pos_q)
print(tst_aq<-adress_question(set_question,item,pos_q))
print(tst_aa<-adress_answer(set_answers,item,pos_a))
print(tst_rq<-get_question(dataset,item,pos_q))
print(tst_ra<-get_item(dataset,item,pos_a))
#works
#works
#muster: xml_replace(adress_[answer|question](options),val,get_[item|question](options))
#testreplace xml_replace(tst2,val ,tst_r )
####
xml_replace(tst_aq,tag ,tst_rq )
xml_replace(tst_aa,val_text,tst_ra)
####
#works
}
#####call replacement
replace_content(items,seta,setq,6,6,3)
#schemeset<-refresh_data(xmlorigin)
seta<-refresh_base_a(schemeset)
setq<-refresh_base_q(schemeset)
print(adress_question(setq,6,1:3))
print(adress_answer(seta,6,1:6))
